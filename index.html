<!DOCTYPE html>
<html lang="en">
  <head>
    <title>&lt;model-viewer&gt; example</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="demo-styles.css">
    
    <!-- The following libraries and polyfills are recommended to maximize browser support -->
    <!-- NOTE: you must adjust the paths as appropriate for your project -->
    
    <!-- 游뚿 REQUIRED: Web Components polyfill to support Edge and Firefox < 63 -->
<!--     <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-loader.js"></script> -->

    <!-- 游누 OPTIONAL: Intersection Observer polyfill for better performance in Safari and IE11 -->
<!--     <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script> -->

    <!-- 游누 OPTIONAL: Resize Observer polyfill improves resize behavior in non-Chrome browsers -->
<!--     <script src="https://unpkg.com/resize-observer-polyfill@1.5.0/dist/ResizeObserver.js"></script> -->

    <!-- 游누 OPTIONAL: Fullscreen polyfill is needed to fully support AR features -->
<!--     <script src="https://unpkg.com/fullscreen-polyfill@1.0.2/dist/fullscreen.polyfill.js"></script> -->

    <!-- 游누 OPTIONAL: Include prismatic.js for Magic Leap support -->
<!--     <script src="https://unpkg.com/@magicleap/prismatic/prismatic.min.js"></script> -->
    
    <!-- 游누 OPTIONAL: The :focus-visible polyfill removes the focus ring for some input types -->
    <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>

  </head> 
<body>
  <img src="https://holovision.com.au/wp-content/themes/holovision/images/holovision-logo-with-tagline.svg" alt="Holovision 3D Logo" class="center">
  <div id="card">
    <!-- All you need to put beautiful, interactive 3D content on your site: -->
    <model-viewer src="./testcube.glb"
                  ar
                  camera-controls
                  alt="A 3D model of your structural steel"
                  ios-src="./testcube.usdz">
    </model-viewer>

     <div class="controls glass">
                    <div>Roll: <input id="roll" value="20" size="3" class="number"> degrees</div>
                    <div>Pitch: <input id="pitch" value="0" size="3" class="number"> degrees</div>
                    <div>Yaw: <input id="yaw" value="0" size="3" class="number"> degrees</div>
                    <div>
                      Scale: X: <input id="x" value="1" size="3" class="number">,
                      Y: <input id="y" value="1" size="3" class="number">,
                      Z: <input id="z" value="1" size="3" class="number">
                    </div>
                    <button id="frame">Update Framing</button>
                  </div>
                </model-viewer>
                <script>
                  const modelViewerTransform = document.querySelector("model-viewer#transform");
                  const roll = document.querySelector('#roll');
                  const pitch = document.querySelector('#pitch');
                  const yaw = document.querySelector('#yaw');
                  const x = document.querySelector('#x');
                  const y = document.querySelector('#y');
                  const z = document.querySelector('#z');
                  const frame = document.querySelector('#frame');

                  frame.addEventListener('click', () => {
                    modelViewerTransform.updateFraming();
                  });

                  const updateOrientation = () => {
                    modelViewerTransform.orientation = `${roll.value}deg ${pitch.value}deg ${yaw.value}deg`;
                  };

                  const updateScale = () => {
                    modelViewerTransform.scale = `${x.value} ${y.value} ${z.value}`;
                  };

                  roll.addEventListener('input', () => {
                    updateOrientation();
                  });
                  pitch.addEventListener('input', () => {
                    updateOrientation();
                  });
                  yaw.addEventListener('input', () => {
                    updateOrientation();
                  });
                  x.addEventListener('input', () => {
                    updateScale();
                  });
                  y.addEventListener('input', () => {
                    updateScale();
                  });
                  z.addEventListener('input', () => {
                    updateScale();
                  });
                </script>
    
    <section class="attribution">
      <span>
        <h1>This is a test site to trial new techiques</h1>
        <span>By <a href="https://holovision.com.au/" target="_blank">Holovision</a></span>
      </span>
    </section>
    
  </div>
  
    <footer>
      <span
        >This model was captured by the spatial team at
        <a href="https://holovision.com.au/" target="_blank"
          >Holovision</a
        >.</span
      >
    </footer>
  
  
  
  <!-- 游누 Include both scripts below to support all browsers! -->

  <!-- Loads <model-viewer> for modern browsers: -->
  <script type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
  </script>

  <!-- Loads <model-viewer> for old browsers like IE11: -->
  <script nomodule
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js">
  </script>
</body>
</html>
